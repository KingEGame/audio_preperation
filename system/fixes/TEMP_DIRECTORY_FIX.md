# Исправление временных папок

## Проблема
Временные файлы `temp_analysis` создавались внутри папки с исходными аудиофайлами, что загрязняло входную директорию.

## Решение
Все временные файлы теперь создаются в центральной папке `temp` в корне проекта.

## Изменения

### 1. Центральная временная папка
- Добавлена функция `get_central_temp_dir()` в `splitters.py`
- Все временные файлы создаются в `project_root/temp/`

### 2. Обновленные функции
- `analyze_boundary_segment()` - использует центральную папку
- `split_audio_smart_multithreaded_optimized()` - очищает центральную папку
- `split_audio_at_word_boundary_optimized()` - использует центральную папку

### 3. Автоматическая очистка
- Временные файлы автоматически удаляются после использования
- Добавлена очистка по паттернам `temp_analysis_*`

## Структура папок

```
project_root/
├── temp/                    # Центральная временная папка
│   ├── temp_analysis_0/     # Временные файлы анализа
│   ├── temp_analysis_1/
│   └── ...
├── input/                   # Исходные файлы (чистые)
├── output/                  # Результаты
└── ...
```

## Тестирование
Запустите тест для проверки:
```bash
system/fixes/test_temp_directory_fix.bat
```

## Преимущества
1. ✅ Входная папка остается чистой
2. ✅ Все временные файлы в одном месте
3. ✅ Легкая очистка временных файлов
4. ✅ Лучшая организация проекта 